{
  "model_path": "./models/embeddinggemma-300m",
  "top_k": 3,
  "chunk_size": 1000,
  "chunk_overlap": 200,
  "data_folder": "./data",
  "supported_extensions": [".txt", ".docx", ".pdf", ".md"],
  "max_file_size_mb": 10,
  "rate_limit_seconds": 1,
  "log_level": "INFO",
  "log_file": "./logs/cubo_log.txt",
  "vector_store_path": "./faiss_index",
  "faiss_index_dir": "./faiss_index",
  "faiss_index_root": "./faiss_index_versions",
  "embedding_batch_size": 32,
  "llm_model": "llama3.2:latest",
  "chunking": {
    "method": "sentence_window",
    "use_sentence_window": true,
    "window_size": 3,
    "tokenizer_name": "./models/embeddinggemma-300m"
  },
  "ingestion": {
    "fast_pass": {
      "output_dir": "data/fastpass",
      "skip_heavy_models": true,
      "auto_trigger_deep": false
    },
    "deep": {
      "output_dir": "./data/deep",
      "csv_rows_per_chunk": 25,
      "use_file_hash_for_chunk_id": true,
      "n_workers": 2
    },
    "chunking": {
      "method": "sentence_window",
      "use_sentence_window": true,
      "window_size": 3,
      "chunk_size": 1000,
      "chunk_overlap": 200
    }
  },
  "query_router": {
    "use_llm_fallback": false,
    "confidence_threshold": 0.6,
    "llm_model": "",
    "llm_timeout_ms": 1000,
    "llm_cache_ttl_seconds": 300
    ,
    "presets": {
      "factual": {"bm25_weight": 0.7, "dense_weight": 0.3, "use_reranker": false, "k_candidates": 50},
      "conceptual": {"bm25_weight": 0.3, "dense_weight": 0.7, "use_reranker": true, "k_candidates": 200},
      "comparative": {"bm25_weight": 0.2, "dense_weight": 0.8, "use_reranker": true, "k_candidates": 250},
      "temporal": {"bm25_weight": 0.6, "dense_weight": 0.4, "use_reranker": false, "k_candidates": 100},
      "exploratory": {"bm25_weight": 0.4, "dense_weight": 0.6, "use_reranker": true, "k_candidates": 300}
    }
  },
  "retrieval": {
    "top_k": 3,
    "auto_merging_chunk_sizes": [2048, 512, 128],
    "auto_merging_collection_name": "cubo_auto_merging",
    "auto_merging_candidate_multiplier": 3,
    "auto_merging_parent_similarity_threshold": 0.1
  },
  "vector_index": {
    "hot_ratio": 0.2,
    "promote_threshold": 10,
    "nlist": 4096,
    "pq_m": 64
  },
  "performance": {
    "use_gpu": true
  },
  "routing": {
    "enable": true,
    "factual_bm25_weight": 0.6,
    "conceptual_dense_weight": 0.8
  },
  "evaluation": {
    "llm_provider": "ollama",
    "gemini_api_key": "",
    "gemini_model": "",
    "ollama_model": "llama3.2:latest"
  },
  "dolphin": {
    "model_path": "./models/dolphin",
    "enabled": true,
    "pdf_dpi": 300,
    "max_pages": 50,
    "vision_prompt": "You are an expert document analyzer. Extract all text, tables, and structured information from this document image. Maintain the original formatting and structure as much as possible. If there are tables, represent them in markdown format. Be thorough and accurate."
  }
  ,
  "fast_pass_output_dir": "data/fastpass",
  "bm25_stats_path": "data/fastpass/bm25_stats.json"
  ,
  "bm25": {
    "backend": "whoosh",
    "whoosh_index_dir": "./whoosh_index",
    "preserve_bm25_stats_json": true
  }
    ,
    "logging": {
      "format": "json",
      "log_file": "./logs/cubo_log.jsonl",
      "log_level": "INFO",
      "enable_queue": true,
      "rotate_method": "midnight",
      "rotate_size": 104857600,
      "retention_days": 30,
      "compress_rotated": true,
      "index_logs": true,
      "index_backend": "sqlite",
      "index_dir": "./logs/index",
      "scrub_queries": true
    }
  ,
  "trace_collector": {
    "max_events_per_trace": 200,
    "keep_seconds": 600
  }
}
