{
  "paths": {
    "data_folder": "data",
    "deep_output_dir": "data\\deep",
    "fast_pass_output_dir": "data\\fastpass"
  },
  "chunking": {
    "chunk_size": 1000,
    "min_chunk_size": 100,
    "chunk_overlap_sentences": 1,
    "benchmark_chunk_size": 1200
  },
  "dolphin": {
    "enabled": false,
    "model_path": null
  },
  "retrieval": {
    "bm25_k1": 1.5,
    "bm25_b": 0.75,
    "bm25_normalization_factor": 15.0,
    "rrf_k": 60,
    "default_top_k": 3,
    "default_window_size": 3,
    "initial_retrieval_multiplier": 5,
    "min_candidate_pool_size": 50,
    "complexity_length_threshold": 12,
    "semantic_weight_default": 0.7,
    "bm25_weight_default": 0.3,
    "semantic_weight_detailed": 0.1,
    "bm25_weight_detailed": 0.9,
    "min_bm25_threshold": 0.05,
    "keyword_boost_factor": 0.3,
    "cache_size": 100,
    "cache_ttl": 3600
  },
  "llm": {
    "provider": "ollama",
    "model_name": "llama3.2",
    "system_prompt": "You are a helpful assistant that answers questions based on the provided context. Be concise and accurate.",
    "enable_streaming": true
  },
  "log_level": "INFO",
  "model_path": "./models/embeddinggemma-300m",
  "data_folder": "./data",
  "supported_extensions": [
    ".txt",
    ".docx",
    ".pdf",
    ".md"
  ],
  "log_file": "./logs/rag_log.txt",
  "llm_model": "llama3.2:latest",
  "llm.n_ctx": 0,
  "vector_store": {
    "persist_embeddings": "mmap",
    "embedding_dtype": "float16"
  },
  "top_k": 3,
  "chunk_size": 1000,
  "chunk_overlap": 200,
  "parser": "basic",
  "max_file_size_mb": 10,
  "rate_limit_seconds": 1,
  "faiss_index_dir": "./data/beir_index_scifact",
  "vector_store_backend": "faiss",
  "vector_store_path": "./data/beir_index_scifact",
  "auto_merging_chunk_sizes": [
    2048,
    512,
    128
  ],
  "auto_merging_collection_name": "cubo_auto_merging",
  "auto_merging_candidate_multiplier": 3,
  "auto_merging_parent_similarity_threshold": 0.1,
  "deep_output_dir": "./data/deep",
  "deep_csv_rows_per_chunk": 25,
  "deep_chunk_id_use_file_hash": true,
  "metadata_db_path": "./data/metadata.db",
  "ingestion": {
    "fast_pass": {
      "output_dir": "data/fastpass",
      "skip_heavy_models": true,
      "auto_trigger_deep": false
    },
    "deep": {
      "output_dir": "./data/deep",
      "csv_rows_per_chunk": 25,
      "use_file_hash_for_chunk_id": true,
      "n_workers": 2,
      "batch_size": 10,
      "throttle_delay_ms": 100,
      "enrich_enabled": false,
      "auto_generate_scaffolds": false,
      "auto_embed_summaries": true,
      "scaffold_size": 5,
      "summary_embedding_dims": 256
    },
    "chunking": {
      "method": "sentence_window",
      "use_sentence_window": true,
      "window_size": 3,
      "chunk_size": 1000,
      "chunk_overlap": 200
    }
  },
  "retrieval.use_summary_prefilter": true,
  "retrieval.use_scaffold_compression": true,
  "retrieval.summary_prefilter_k": 20,
  "retrieval.scaffold_weight": 0.3,
  "retrieval.summary_weight": 0.2,
  "retrieval.dense_weight": 0.5,
  "retrieval.reranker_model": "cross-encoder/ms-marco-MiniLM-L-6-v2",
  "retrieval.semantic_cache": {
    "enabled": true,
    "threshold": 0.95,
    "ttl": 600,
    "max_entries": 1000,
    "index_type": "hnsw"
  },
  "scaffold": {
    "output_dir": "./data/scaffolds",
    "use_semantic_clustering": false,
    "clustering_method": "kmeans",
    "scaffold_size": 5,
    "min_cluster_size": 3
  },
  "summary_embeddings": {
    "output_dir": "./data/summary_embeddings",
    "embedding_dims": 256,
    "use_pca_compression": true
  },
  "routing": {
    "enable": true,
    "factual_bm25_weight": 0.6,
    "conceptual_dense_weight": 0.8
  },
  "vector_index": {
    "hot_ratio": 0.2,
    "promote_threshold": 10,
    "nlist": 4096,
    "pq_m": 64
  },
  "deduplication": {
    "enabled": true,
    "method": "hybrid",
    "run_on": "scaffold",
    "representative_metric": "summary_score",
    "similarity_threshold": 0.92,
    "map_path": "output/dedup_clusters.json",
    "prefilter": {
      "use_minhash": true,
      "num_perm": 128,
      "minhash_threshold": 0.8
    },
    "ann": {
      "backend": "faiss",
      "k": 50
    },
    "clustering": {
      "algorithm": "hdbscan",
      "min_cluster_size": 2,
      "min_samples": 1,
      "umap_dims": 32
    }
  },
  "bm25": {
    "backend": "python",
    "use_lemmatization": false
  },
  "laptop_mode": false
}